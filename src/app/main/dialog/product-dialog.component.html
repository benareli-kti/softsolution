<div class="basic-container submit-form" fxLayout="column" fxLayoutAlign="space-between center" >
<div class="width-100">
  <div class="marginbot" fxLayout="row" fxLayoutAlign="space-between center">
    <mat-button-toggle-group class="active_btn" #group="matButtonToggleGroup" [(value)]="statusActive" (change)="onValChange(group.value)">
      <mat-button-toggle value="true">Active</mat-button-toggle>
      <mat-button-toggle value="false">Not Active</mat-button-toggle>
    </mat-button-toggle-group>

    <mat-button-toggle-group class="active_btn margin_7" *ngIf="isNew" #group2="matButtonToggleGroup" [(value)]="datisstock" (change)="onStockChange(group2.value)">
      <mat-button-toggle style="padding: 0pt 30pt;" value="true">Stock</mat-button-toggle>
      <mat-button-toggle style="padding: 0pt 30pt;" value="false">Jasa</mat-button-toggle>
    </mat-button-toggle-group>

    <mat-button-toggle-group class="active_btn margin_7" *ngIf="!isNew" disabled #group2="matButtonToggleGroup" [(value)]="datisstock" (change)="onStockChange(group2.value)">
      <mat-button-toggle style="padding: 0pt 30pt;" value="true">Stock</mat-button-toggle>
      <mat-button-toggle style="padding: 0pt 30pt;" value="false">Jasa</mat-button-toggle>
    </mat-button-toggle-group>

    <button class="close_btn" mat-button (click)="closeDialog()">X</button>
  </div>

  <div class="flexfull">
  <mat-form-field class="input_field flex50" hintLabel="Max 10 characters">
    <input #input matInput maxlength="10" required placeholder="SKU" [(ngModel)]="datsku">
    <mat-hint align="end">{{input.value?.length || 0}}/10</mat-hint>
  </mat-form-field>

  <mat-form-field class="input_field flex50 margin_7">
    <input matInput required placeholder="Name" [(ngModel)]="datname">
  </mat-form-field>
  </div>

  <mat-form-field class="input_field flex100">
    <input matInput placeholder="Deskripsi" [(ngModel)]="datdesc">
  </mat-form-field>

  <div class="flexfull">
  <mat-form-field class="input_field flex33">
    <input matInput required placeholder="Harga Jual" type="number" [(ngModel)]="datlprice">
  </mat-form-field>

  <mat-form-field class="input_field flex33 margin_7">
    <input matInput placeholder="Harga Batas" type="number" [(ngModel)]="datbprice">
    <div class="alert" role="alert" *ngIf="bbigger">Harga Batas tidak bisa lebih besar!</div>
  </mat-form-field>

  <mat-form-field class="input_field flex33 margin_7">
    <input matInput placeholder="Cost" type="number" [(ngModel)]="datcost">
  </mat-form-field>
  </div>

  <div class="flexfull">
  <mat-form-field class="input_field flex50">
    <mat-label>Category</mat-label>
    <mat-select required name="categoryString" (selectionChange)="selectedValue($event)" [(value)]="selectedCategory">
      <mat-option *ngFor="let productcat of productcats" [value]="productcat.id" ngDefaultControl [(ngModel)]="productadd.category">
        {{ productcat.description }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="input_field margin_7 flex50">
    <mat-label>Brand</mat-label>
    <mat-select name="brandString" (selectionChange)="selectedValue2($event)" [(value)]="selectedBrand">
      <mat-option *ngFor="let brand of brands" [value]="brand.id" ngDefaultControl [(ngModel)]="productadd.brand">{{ brand.description }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  </div>
</div>

<mat-table #table [dataSource]="dataSource" class="mat-table">
  <ng-container matColumnDef="warehouse">
    <th class="th-style" fxFlex="40%" mat-header-cell *matHeaderCellDef>Gudang</th>
    <td class="tr-style" fxFlex="40%" mat-cell *matCellDef="let qops">
      {{qops.warehouse.name}}
    </td>
  </ng-container>
  <ng-container matColumnDef="partner">
    <th class="th-style" fxFlex="40%" mat-header-cell *matHeaderCellDef>Supplier</th>
    <td class="tr-style" fxFlex="40%" mat-cell *matCellDef="let qops">
      <div *ngIf="!qops.partner"></div>
      <div *ngIf="qops.partner">{{qops.partner.name}}</div>
    </td>
  </ng-container>
  <ng-container matColumnDef="qty">
    <th class="th-style" fxFlex="20%" mat-header-cell *matHeaderCellDef>Quantity</th>
    <td class="tr-style" fxFlex="20%" mat-cell *matCellDef="let qops">
      {{qops.qop}}
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns" class="tableHeader"></tr>
  <tr mat-row class="tableRow" 
      *matRowDef="let row; columns: displayedColumns;"
  ></tr>
</mat-table>

<div class="width-100" fxLayout="row" fxLayoutAlign="space-between center">
  <div class="width-90">
    <button *ngIf="!isNew" [disabled]="isRes" mat-button class="submit save_btn" (click)="checkBigger()">Save</button>
    <button *ngIf="isNew" [disabled]="isRes" mat-button class="submit save_btn" (click)="checkBigger()">Save</button>
  </div>
  <div class="width-10"><button class="log_btn" [(ngModel)]="log"><mat-icon>message</mat-icon> {{log}}</button></div>
</div>
</div>